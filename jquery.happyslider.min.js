!function(i){"function"==typeof define&&define.amd?define("happyslider",["jquery"],i):i(jQuery)}(function(i){function t(t,e){this.element=t,this.$element=i(this.element),this.$container=i(this.element).find(".js__happyslider-container"),this.$wrap=i(this.element).find(".js__happyslider-wrap"),this.$item=i(this.element).find(".js__happyslider-item"),this.$previous=i(this.element).find(".js__happyslider-previous"),this.$next=i(this.element).find(".js__happyslider-next"),this.container=".js__happyslider-container",this.wrap=".js__happyslider-wrap",this.item=".js__happyslider-item",this.previous=".js__happyslider-previous",this.next=".js__happyslider-next",this.isAnimate=!1,this.isMouseUp=!1,this.isMouseDown=!1,this.touchDistance=0,this.startPos=0,this.slideIndex=0,this.itemSize=[],this.oldie=!1,o()<=9&&o()!==!1&&(this.oldie=!0),this.options=i.extend({},d,e,i(this.element).data("happyslider-options")),this._defaults=d,this._name=h,this.init(),this.slide=this.slide,this.bindMethods(),this.bindEventListeners()}function e(){this.each(function(){i.data(this,"plugin_"+h).draw()})}function s(i,t){return function(){return i.apply(t,arguments)}}function n(i,t,e){i.on(t,e)}function a(){i("[data-happyslider]").length>0&&i("[data-happyslider]").happyslider()}function o(){var i=navigator.userAgent.toLowerCase();return-1!=i.indexOf("msie")?parseInt(i.split("msie")[1]):!1}var h="happyslider",d={width:"auto",height:"auto",fullscreen:!1,infiniti:!1,swipe:!0,autoHeight:!1,animateType:"slide",animateDuration:300,animateEase:"ease",animateCallback:function(){}};t.prototype={init:function(){"slide"==this.options.animateType&&i(this.element).attr("data-happyslider-animatetype","slide"),"fade"==this.options.animateType&&i(this.element).attr("data-happyslider-animatetype","fade"),"scale"==this.options.animateType&&i(this.element).attr("data-happyslider-animatetype","scale"),this.render()},render:function(){this.draw(),this.$item.is(".active")||this.$item.eq(0).addClass("active"),this.options.infiniti&&0!=this.slideIndex||this.$element.find(this.previous).addClass("dissable")},draw:function(){this.options.fullscreen&&(this.options.width=i(window).width(),this.options.height=i(window).height()),this.options.autoHeight&&(this.$item.eq(this.slideIndex).css("height","auto"),this.options.height=this.$item.eq(this.slideIndex)[0].scrollHeight),this.$element.css("width",this.options.width).css("height",this.options.height)},slide:function(i){if("undefined"===i||isNaN(i)||(this.slideIndex=1*i),this.isAnimate)return!1;this.isAnimate=!0;var t=this;"undefined"==this.slideIndex&&(this.slideIndex=this.$item.index(this.$item.filter(".active"))),this.$item.css("transition","all "+this.options.animateDuration+"ms "+this.options.animateEase),"slide"==this.options.animateType&&this.animationSlide(),"fade"==this.options.animateType&&this.animationFade(),"scale"==this.options.animateType&&this.animationScale(),!this.options.infiniti&&this.slideIndex>=this.$item.length-1?this.$element.find(this.next).addClass("dissable"):this.$element.find(this.next).removeClass("dissable"),!this.options.infiniti&&this.slideIndex<=0?this.$element.find(this.previous).addClass("dissable"):this.$element.find(this.previous).removeClass("dissable"),setTimeout(function(){t.isAnimate=!1,t.$item.removeClass("active"),t.$item.eq(t.slideIndex).addClass("active"),t.$item.css("transition","none"),t.$element.find(t.previous).removeClass("active"),t.$element.find(t.next).removeClass("active"),t.animationScaleCallback(),t.options.animateCallback(),t.draw()},t.options.animateDuration)},animationSlide:function(){var i=this.$item.width(),t=0,e=-i*this.slideIndex;"undefined"!=typeof Modernizr&&Modernizr.csstransforms3d&&Modernizr.csstransitions?this.$item.css("transform","translate3d("+e+"px,"+t+"px, 0px)"):"undefined"!=typeof Modernizr&&Modernizr.csstransforms&&Modernizr.csstransitions?this.$item.css("transform","translate("+e+"px,"+t+"px)"):"undefined"!=typeof Modernizr&&Modernizr.csstransitions?this.$item.css("left",e).css("top",t):this.$item.stop().animate({left:e,top:t},this.options.animateDuration,"swing",function(){})},animationFade:function(){this.$item.css("opacity",0),this.$item.eq(this.slideIndex).css("opacity",1)},animationScale:function(){"undefined"!=typeof Modernizr&&Modernizr.csstransforms&&Modernizr.csstransitions&&(this.$item.filter(".active").css("transform","scale(0, 0)").css("opacity",0),this.$item.eq(this.slideIndex).css("transform","scale(1, 1)").css("opacity",1))},animationScaleCallback:function(){"scale"==this.options.animateType&&this.$item.not(".active").css("transform","scale(0, 0)").css("opacity",0)},touchmove:function(i){var t,e,s=this.$item.length,n=this.$item.width(),a=this.$item.index(this.$item.filter(".active")),o=0,h=-n*a;return this.$item.css("transition","none"),i.x=i.x-this.$element.position().left,i.y=i.y-this.$element.position().top,h+=this.touchDistance,t=-1*(n*(a+1)-.75*n),e=-1*(n*a-.25*n),"undefined"!=typeof Modernizr&&Modernizr.csstransforms3d?this.$item.css("transform","translate3d("+h+"px,"+o+"px, 0px)"):"undefined"!=typeof Modernizr&&Modernizr.csstransforms&&!this.oldie?this.$item.css("transform","translate("+h+"px,"+o+"px)"):this.$item.css("left",h).css("top",o),this.touchDistance<0&&a>=0&&s-1>a&&t>h?(this.$element.find(this.next).addClass("active"),a+1):(this.$element.find(this.next).removeClass("active"),this.touchDistance>=0&&a>0&&s-1>=a&&h>=e?(this.$element.find(this.previous).addClass("active"),a-1):(this.$element.find(this.previous).removeClass("active"),a))},onHandleNextClick:function(){!this.options.infiniti&&this.slideIndex<this.$item.length-1&&this.slideIndex++,this.slide()},onHandlePreviousClick:function(){!this.options.infiniti&&this.slideIndex>0&&this.slideIndex--,this.slide()},onHandleTouchstart:function(i){this.startPos=i.originalEvent.touches[0].pageX,i.preventDefault()},onHandleTouchend:function(){this.slide()},onHandleTouchmove:function(i){var t=i.originalEvent.touches[0];this.touchDistance=t.pageX-this.startPos,this.slideIndex=this.touchmove({x:t.pageX,y:t.pageY}),i.preventDefault()},onHandleDrag:function(i){i.preventDefault()},onHandleMousedown:function(i){this.isMouseDown=!0,this.startPos=i.pageX,this.$element.addClass("grabbing"),this.$element.removeClass("grab"),i.preventDefault()},onHandleMouseup:function(i){return this.isMouseDown=!1,this.startPos=i.pageX,this.$element.removeClass("grabbing"),this.$element.addClass("grab"),this.isMouseUp?(this.isMouseUp=!1,this.$item.removeClass("active"),this.$item.eq(this.slideIndex).addClass("active"),void this.slide()):!1},onHandleMouseout:function(t){i(t.target).trigger("mouseup")},onHandleMousemove:function(i){return this.isMouseDown?(this.touchDistance=i.pageX-this.startPos,this.slideIndex=this.touchmove({x:i.pageX,y:i.pageY}),this.isMouseUp=!0,void i.preventDefault()):!1},bindMethods:function(){this.onHandleNextClick=s(this.onHandleNextClick,this),this.onHandlePreviousClick=s(this.onHandlePreviousClick,this),this.onHandleTouchstart=s(this.onHandleTouchstart,this),this.onHandleTouchend=s(this.onHandleTouchend,this),this.onHandleTouchmove=s(this.onHandleTouchmove,this),this.onHandleDrag=s(this.onHandleDrag,this),this.onHandleMousedown=s(this.onHandleMousedown,this),this.onHandleMouseup=s(this.onHandleMouseup,this),this.onHandleMouseout=s(this.onHandleMouseout,this),this.onHandleMousemove=s(this.onHandleMousemove,this)},bindEventListeners:function(){n(this.$next,"click",this.onHandleNextClick),n(this.$previous,"click",this.onHandlePreviousClick),"slide"==this.options.animateType&&(this.$element.addClass("grab"),n(this.$wrap,"touchstart",this.onHandleTouchstart),n(this.$wrap,"touchend",this.onHandleTouchend),n(this.$wrap,"touchmove",this.onHandleTouchmove),n(this.$wrap,"drag",this.onHandleDrag),n(this.$wrap,"mousedown",this.onHandleMousedown),n(this.$wrap,"mouseup",this.onHandleMouseup),n(this.$wrap,"mouseout",this.onHandleMouseout),n(this.$wrap,"mousemove",this.onHandleMousemove))}},i.fn[h]=function(a){return e=s(e,this),n(i(window),"load",e),n(i(window),"resize",e),this.each(function(){i.data(this,"plugin_"+h)||i.data(this,"plugin_"+h,new t(this,a))})},i(function(){a()})});
//# sourceMappingURL=jquery.happyslider.min.js.map